{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "profile-form-1",
  "type": "registry:block",
  "title": "Profile Form - 1",
  "description": "A simple profile form.",
  "dependencies": [
    "zod",
    "react-hook-form",
    "@hookform/resolvers",
    "browser-image-compression",
    "@clerk/types",
    "@clerk/nextjs"
  ],
  "registryDependencies": [
    "card",
    "input",
    "avatar",
    "skeleton",
    "button",
    "sonner",
    "field",
    "spinner",
    "input-group",
    "label"
  ],
  "files": [
    {
      "path": "registry/blocks/profile-form/profile-form-1/index.tsx",
      "content": "import { UserResource } from \"@clerk/types\";\nimport { currentUser, User } from \"@clerk/nextjs/server\";\nimport ProfileForm1Inner from \"./inner\";\n\nexport type ProfileForm1Props = {\n  /**\n  * A Clerk [User](https://clerk.com/docs/reference/javascript/user) object retrieved from either the frontend or backend SDK.\n  **/\n  user?: Partial<UserResource> | Partial<User>;\n};\n\nexport default function ProfileForm1({ user }: ProfileForm1Props) {\n  if (user) {\n    return <ProfileForm1Inner user={user} />;\n  }\n\n  return <ProfileForm1WithClerk />;\n}\n\nasync function ProfileForm1WithClerk() {\n  const user = await currentUser();\n\n  if (!user) return;\n\n  return <ProfileForm1Inner user={JSON.parse(JSON.stringify(user))} />;\n}\n",
      "type": "registry:component",
      "target": "components/profile-form-1/index.tsx"
    },
    {
      "path": "registry/blocks/profile-form/profile-form-1/actions.ts",
      "content": "\"use server\";\n\nimport { auth, clerkClient } from \"@clerk/nextjs/server\";\nimport { UserProfileUpdateFormValues } from \"./inner\";\n\nexport async function updateUserProfile(data: UserProfileUpdateFormValues) {\n  const { userId } = await auth();\n\n  if (!userId) {\n    throw new Error(\"Failed to remove email\");\n  }\n\n  const client = await clerkClient();\n\n  await client.users.updateUser(userId, {\n    username: data.username,\n    firstName: data.firstName,\n    lastName: data.lastName,\n  });\n\n  if (data.picture && data.picture.size > 0) {\n    await client.users.updateUserProfileImage(userId, { file: data.picture });\n  }\n}\n",
      "type": "registry:component",
      "target": "components/profile-form-1/actions.ts"
    }
  ]
}